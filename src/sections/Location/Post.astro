---
import { Image } from "astro:assets";
import lajas from "../../../public/img/lajas.jpg";
import Tulcan from "../../../public/img/Tulcan.webp";
import HeaderPost from "./HeaderPost.astro";
import FooterPost from "./FooterPost.astro";

const PostImages = [
    { src: lajas, alt: "Santuario Las Lajas" },
    { src: Tulcan, alt: "Cementerio de Tulcan" },
];
let currentIndex = 0;

const handlePrev = () => {
    currentIndex = (currentIndex - 1 + PostImages.length) % PostImages.length;
};
const handleNext = () => {
    currentIndex = (currentIndex + 1) % PostImages.length;
    console.log("right duncion");
};
---

<section
    class="group flex flex-col items-center justify-center w-full md:w-1/2 lg:w-1/3 h-[600px] lg:h-[700px] overflow-hidden"
>
    <HeaderPost />
    <div class="relative w-full h-96 overflow-hidden transition-all">
        <div
            style={`transform: translateX(-${currentIndex * 100}%)`}
            class="carousel flex w-full h-full transition-transform duration-500"
        >
            {
                PostImages.map((image) => (
                    <div class="carousel-item z-10 w-full h-full flex-shrink-0 flex items-center justify-center overflow-hidden">
                        <Image
                            class="w-full object-cover grayscale-70 opacity-50 group-hover:opacity-100 group-hover:scale-110 transition-all"
                            src={image.src}
                            alt={image.alt}
                        />
                    </div>
                ))
            }
        </div>
        <div class="absolute  top-1/2">
            <div class="flex flex-row justify-between">
                <button
                    id="prevBtn"
                    class="transform translate-y-1/2 bg-white/70 rounded-full p-2 shadow-md hover:bg-gray-200 focus:outline-none"
                    @click={handlePrev}
                >
                    {"<"}
                </button>
                <button
                    id="nextBtn"
                    class="transform -translate-y-1/2 bg-white/70 rounded-full p-2 shadow-md hover:bg-gray-200 focus:outline-none"
                    @click={handleNext}
                >
                    {">"}
                </button>
            </div>
        </div>
    </div>
    <FooterPost />
</section>

<style></style>
